<mat-sidenav-container class="vertical-flex-full-height">
    <mat-sidenav #sidenav position="end" class="tradename-form">
        <app-tradename-creation *ngIf="sidePane==='newTradeName'"
            [pms]="pms"

            [pmPodDetails]="pmPodDetails"
            [pmPodDetailsLoading]="pmPodDetailsLoading"
            [pmPodDetailsLoaded]="pmPodDetailsLoaded"
            [pmPodDetailsError]="pmPodDetailsError"

            [clientServicesTradeThemes]="clientServicesTradeThemes"

            [creatingTradeName]="creatingTradeName"
            [createdTradeName]="createdTradeName"
            [createTradeNameSuccessMessage]="createTradeNameSuccessMessage"
            [createTradeNameFailureMessage]="createTradeNameFailureMessage"

            (createTradeName)="onCreateTradeName($event)">
        </app-tradename-creation>

        <app-multi-alloc-tradenames *ngIf="sidePane==='newMultiTradeName'"
            [activeTradeNames]="activeTradeNames$ | async"
            [multiAllocTradeNames]="multiAllocTradeNames"
            [multiAllocTradeNamesLoading]="multiAllocTradeNamesLoading"
            [multiAllocTradeNamesLoaded]="multiAllocTradeNamesLoaded"
            [multiAllocTradeNamesError]="multiAllocTradeNamesError"
            [multiAllocationSplit]="multiAllocationSplit"
            [multiAllocationSplitLoading]="multiAllocationSplitLoading"
            [multiAllocationSplitLoaded]="multiAllocationSplitLoaded"
            [multiAllocationSplitError]="multiAllocationSplitError"
            [multiAllocationSplitStatus]="multiAllocationSplitStatus"
            (selectTradeName)="selectMultiAllocTradeName($event)"
            (createOrUpdateMultiAllocTradeName)="createOrUpdateMultiAllocTradeName($event)"
        ></app-multi-alloc-tradenames>
    </mat-sidenav>
    <mat-sidenav-content>

        <mat-toolbar>
            <span class="toolbar-heading">
                <span class="title">TRADENAMES & ALLOCATIONS</span>
            </span>
            <span class="toolbar-spacer"></span>

            <!-- <button mat-icon-button class="mat-button-shrink" color="primary" (click)="showCapitalsWorkflow()"
                [disabled]="!editable" matTooltip="Update Capitals">
                <mat-icon>monetization_on</mat-icon>
            </button> -->

            <button mat-icon-button class="toolbar-icon" (click)="updateSelectedTrades()"
                [disabled]="!editable"
                matTooltip="Update Selected Trades">
                <mat-icon>import_export</mat-icon>
            </button>

            <button mat-icon-button class="toolbar-icon"(click)="onSaveChanges()"
                [disabled]="!editable"
                matTooltip="Save Changes">
                <mat-icon>save</mat-icon>
            </button>

        
            <button mat-icon-button class="toolbar-icon" (click)="onShowTradeNameCreation('newTradeName')"
                matTooltip="Create TradeName">
                <mat-icon>note_add</mat-icon>
            </button>

            
            <button mat-icon-button class="toolbar-icon" (click)="onShowTradeNameCreation('newMultiTradeName')"
                matTooltip="Create Multi TradeName Allocation">
                <mat-icon>call_split</mat-icon>
            </button>
        
            <!-- <button mat-icon-button class="mat-button-shrink" color="primary" (click)="onEmailAllocationReport()"
                matTooltip="Email Trade Allocation Report">
                <mat-icon>email</mat-icon>
            </button> -->
        
            <button mat-icon-button class="toolbar-icon" (click)="onResetGrid()"
                matTooltip="Reset Changes">
                <mat-icon>refresh</mat-icon>
            </button>
        
            <form class="search-form">
                <mat-form-field appearance="outline" floatLabel="always">
                    <mat-label>Filter </mat-label> 
                    <div class="mat-form-field-content-wrap">
                        <input matInput placeholder="Search..." (input)="onSearch($event.target.value)" autocomplete="off">
                    </div>
                </mat-form-field>
            </form>

        </mat-toolbar>
  
        
        <div *ngIf="loading" class="loading-screen">
            <mat-spinner></mat-spinner>
        </div>
        
        <app-base-grid style="display: block; height:95%"
            [gridItems]="[]" [customGridOption]="customGridOption"
            [extraOption]="extraOption" [customGridCallBack]="customGridCallBack">
        </app-base-grid>
    </mat-sidenav-content>
</mat-sidenav-container>
